<mxfile host="app.diagrams.net" modified="2025-01-14T00:00:00.000Z" agent="draw.io" version="24.0.0">
  <diagram name="Complete Class Diagram" id="complete-diagram">
    <mxGraphModel dx="2200" dy="1400" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2000" pageHeight="2000" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="Ev2.Core.FS - 완전한 타입 상속 관계" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=28;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="600" y="20" width="600" height="50" as="geometry" />
        </mxCell>

        <!-- ============ Core Interfaces Section ============ -->
        <mxCell id="core-interfaces-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="220" y="100" width="900" height="180" as="geometry" />
        </mxCell>
        <mxCell id="core-interfaces-label" value="Core Interfaces" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="240" y="110" width="200" height="30" as="geometry" />
        </mxCell>

        <mxCell id="IDsObject" value="&amp;lt;&amp;lt;interface&amp;gt;&amp;gt;&#xa;IDsObject" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff4e1;strokeColor=#000000;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="250" y="160" width="130" height="60" as="geometry" />
        </mxCell>

        <mxCell id="IDsProperties" value="&amp;lt;&amp;lt;interface&amp;gt;&amp;gt;&#xa;IDsProperties" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff4e1;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="410" y="160" width="130" height="60" as="geometry" />
        </mxCell>

        <mxCell id="IParameter" value="&amp;lt;&amp;lt;interface&amp;gt;&amp;gt;&#xa;IParameter" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff4e1;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="570" y="160" width="130" height="60" as="geometry" />
        </mxCell>

        <mxCell id="IParameterContainer" value="&amp;lt;&amp;lt;interface&amp;gt;&amp;gt;&#xa;IParameterContainer" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff4e1;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="730" y="160" width="150" height="60" as="geometry" />
        </mxCell>

        <mxCell id="IArrow" value="&amp;lt;&amp;lt;interface&amp;gt;&amp;gt;&#xa;IArrow" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff4e1;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="910" y="160" width="130" height="60" as="geometry" />
        </mxCell>

        <mxCell id="IUnique" value="&amp;lt;&amp;lt;interface&amp;gt;&amp;gt;&#xa;IUnique" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff4e1;strokeColor=#000000;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="410" y="240" width="130" height="60" as="geometry" />
        </mxCell>

        <mxCell id="IWithDateTime" value="&amp;lt;&amp;lt;interface&amp;gt;&amp;gt;&#xa;IWithDateTime" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff4e1;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="570" y="240" width="130" height="60" as="geometry" />
        </mxCell>

        <!-- Inheritance lines for core interfaces -->
        <mxCell id="edge-props" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;dashed=1;" edge="1" parent="1" source="IDsProperties" target="IDsObject">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge-param" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;dashed=1;" edge="1" parent="1" source="IParameter" target="IDsObject">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="635" y="140" />
              <mxPoint x="315" y="140" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="edge-paramcont" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;dashed=1;" edge="1" parent="1" source="IParameterContainer" target="IDsObject">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="805" y="140" />
              <mxPoint x="315" y="140" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="edge-arrow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;dashed=1;" edge="1" parent="1" source="IArrow" target="IDsObject">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="975" y="140" />
              <mxPoint x="315" y="140" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="edge-unique" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;dashed=1;" edge="1" parent="1" source="IUnique" target="IDsObject">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="475" y="230" />
              <mxPoint x="315" y="230" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="edge-datetime" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;dashed=1;" edge="1" parent="1" source="IWithDateTime" target="IDsObject">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="635" y="230" />
              <mxPoint x="315" y="230" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- ============ Classification Interfaces ============ -->
        <mxCell id="class-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="220" y="320" width="520" height="120" as="geometry" />
        </mxCell>
        <mxCell id="class-label" value="Classification Interfaces" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="240" y="330" width="300" height="30" as="geometry" />
        </mxCell>

        <mxCell id="IDs1stClass" value="&amp;lt;&amp;lt;interface&amp;gt;&amp;gt;&#xa;IDs1stClass" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff4e1;strokeColor=#000000;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="250" y="370" width="130" height="60" as="geometry" />
        </mxCell>

        <mxCell id="IDs2ndClass" value="&amp;lt;&amp;lt;interface&amp;gt;&amp;gt;&#xa;IDs2ndClass" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff4e1;strokeColor=#000000;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="410" y="370" width="130" height="60" as="geometry" />
        </mxCell>

        <mxCell id="edge-1stclass-unique" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;dashed=1;" edge="1" parent="1" source="IDs1stClass" target="IUnique">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge-1stclass-datetime" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;dashed=1;" edge="1" parent="1" source="IDs1stClass" target="IWithDateTime">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="315" y="350" />
              <mxPoint x="635" y="350" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="edge-2ndclass" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;dashed=1;" edge="1" parent="1" source="IDs2ndClass" target="IUnique">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ============ Domain Interfaces ============ -->
        <mxCell id="domain-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;opacity=30;" vertex="1" parent="1">
          <mxGeometry x="220" y="470" width="1100" height="120" as="geometry" />
        </mxCell>
        <mxCell id="domain-label" value="Domain Interfaces" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="240" y="480" width="300" height="30" as="geometry" />
        </mxCell>

        <mxCell id="IDsProject" value="&amp;lt;&amp;lt;interface&amp;gt;&amp;gt;&#xa;IDsProject" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff4e1;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="250" y="520" width="110" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IDsSystem" value="&amp;lt;&amp;lt;interface&amp;gt;&amp;gt;&#xa;IDsSystem" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff4e1;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="380" y="520" width="110" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IDsFlow" value="&amp;lt;&amp;lt;interface&amp;gt;&amp;gt;&#xa;IDsFlow" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff4e1;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="510" y="520" width="110" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IDsWork" value="&amp;lt;&amp;lt;interface&amp;gt;&amp;gt;&#xa;IDsWork" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff4e1;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="640" y="520" width="110" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IDsCall" value="&amp;lt;&amp;lt;interface&amp;gt;&amp;gt;&#xa;IDsCall" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff4e1;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="770" y="520" width="110" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IDsApiCall" value="&amp;lt;&amp;lt;interface&amp;gt;&amp;gt;&#xa;IDsApiCall" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff4e1;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="900" y="520" width="110" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IDsApiDef" value="&amp;lt;&amp;lt;interface&amp;gt;&amp;gt;&#xa;IDsApiDef" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff4e1;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="1030" y="520" width="110" height="60" as="geometry" />
        </mxCell>
        <mxCell id="IDsButton" value="&amp;lt;&amp;lt;interface&amp;gt;&amp;gt;&#xa;IDsButton" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff4e1;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="1160" y="520" width="110" height="60" as="geometry" />
        </mxCell>

        <!-- Domain interface inheritance -->
        <mxCell id="edge-proj-1st" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;dashed=1;" edge="1" parent="1" source="IDsProject" target="IDs1stClass">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge-sys-1st" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;dashed=1;" edge="1" parent="1" source="IDsSystem" target="IDs1stClass">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="435" y="500" />
              <mxPoint x="315" y="500" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="edge-flow-2nd" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;dashed=1;" edge="1" parent="1" source="IDsFlow" target="IDs2ndClass">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="565" y="500" />
              <mxPoint x="475" y="500" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- ============ Base Classes ============ -->
        <mxCell id="base-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5ff;strokeColor=#0066cc;opacity=20;" vertex="1" parent="1">
          <mxGeometry x="220" y="620" width="520" height="380" as="geometry" />
        </mxCell>
        <mxCell id="base-label" value="Runtime Base Classes" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#0066cc" vertex="1" parent="1">
          <mxGeometry x="240" y="630" width="300" height="30" as="geometry" />
        </mxCell>

        <mxCell id="DisposableBase" value="&amp;lt;&amp;lt;abstract&amp;gt;&amp;gt;&#xa;DisposableBase&#xa;+ Dispose()&#xa;# DisposeCore()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1f5ff;strokeColor=#000000;align=left;" vertex="1" parent="1">
          <mxGeometry x="250" y="680" width="150" height="80" as="geometry" />
        </mxCell>

        <mxCell id="UniqueWithFody" value="&amp;lt;&amp;lt;abstract&amp;gt;&amp;gt;&#xa;UniqueWithFody&#xa;+ PropertyChangedSubject" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1f5ff;strokeColor=#000000;align=left;" vertex="1" parent="1">
          <mxGeometry x="250" y="780" width="150" height="70" as="geometry" />
        </mxCell>

        <mxCell id="Unique" value="&amp;lt;&amp;lt;abstract&amp;gt;&amp;gt;&#xa;Unique&#xa;+ Id: Id option&#xa;+ Name: string&#xa;+ Parameter: string&#xa;+ Guid: Guid&#xa;+ RawParent: Unique option&#xa;+ CopyUniqueProperties()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1f5ff;strokeColor=#000000;align=left;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="250" y="870" width="180" height="120" as="geometry" />
        </mxCell>

        <mxCell id="RtUnique" value="&amp;lt;&amp;lt;abstract&amp;gt;&amp;gt;&#xa;RtUnique&#xa;+ ToNjObj(): INjUnique&#xa;+ ToNj&lt;T&gt;(): T" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d4f1f4;strokeColor=#000000;align=left;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="460" y="870" width="160" height="80" as="geometry" />
        </mxCell>

        <mxCell id="JsonPolymorphic" value="&amp;lt;&amp;lt;abstract&amp;gt;&amp;gt;&#xa;JsonPolymorphic&#xa;+ ToJson(): string&#xa;+ FromJson&lt;T&gt;(): T&#xa;+ DeepClone&lt;T&gt;(): T" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d4f1f4;strokeColor=#000000;align=left;" vertex="1" parent="1">
          <mxGeometry x="460" y="970" width="160" height="90" as="geometry" />
        </mxCell>

        <!-- Base class inheritance -->
        <mxCell id="edge-base1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" edge="1" parent="1" source="UniqueWithFody" target="DisposableBase">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge-base2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" edge="1" parent="1" source="Unique" target="UniqueWithFody">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge-base3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" edge="1" parent="1" source="RtUnique" target="Unique">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge-base4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" edge="1" parent="1" source="JsonPolymorphic" target="RtUnique">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ============ Runtime Domain Classes ============ -->
        <mxCell id="rt-domain-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d4f1f4;strokeColor=#0066cc;opacity=20;" vertex="1" parent="1">
          <mxGeometry x="220" y="1030" width="1460" height="300" as="geometry" />
        </mxCell>
        <mxCell id="rt-domain-label" value="Runtime Domain Classes" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#0066cc" vertex="1" parent="1">
          <mxGeometry x="240" y="1040" width="300" height="30" as="geometry" />
        </mxCell>

        <mxCell id="Project" value="Project&#xa;────────────────────&#xa;+ ActiveSystems: list&#xa;+ PassiveSystems: list&#xa;+ Systems: list&#xa;+ Properties: ProjectProperties&#xa;+ DbApi: DbApi option&#xa;────────────────────&#xa;+ Create()&#xa;+ FromJson()&#xa;+ OnSaved()&#xa;+ OnLoaded()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d4f1f4;strokeColor=#000000;align=left;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="250" y="1090" width="220" height="190" as="geometry" />
        </mxCell>

        <mxCell id="DsSystem" value="DsSystem&#xa;────────────────────&#xa;+ Flows: list&#xa;+ Works: list&#xa;+ Arrows: list&#xa;+ ApiDefs: list&#xa;+ ApiCalls: list&#xa;+ Entities: seq&#xa;+ Buttons: array&#xa;+ Lamps: array&#xa;+ Properties: DsSystemProperties&#xa;────────────────────&#xa;+ Create()&#xa;+ OnLoaded()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d4f1f4;strokeColor=#000000;align=left;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="500" y="1090" width="240" height="220" as="geometry" />
        </mxCell>

        <mxCell id="Flow" value="Flow&#xa;────────────────────&#xa;+ Properties: FlowProperties&#xa;+ Works: array&#xa;+ Buttons: array&#xa;+ Lamps: array&#xa;+ Conditions: array&#xa;+ Actions: array&#xa;────────────────────&#xa;+ Create()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d4f1f4;strokeColor=#000000;align=left;" vertex="1" parent="1">
          <mxGeometry x="770" y="1090" width="200" height="160" as="geometry" />
        </mxCell>

        <mxCell id="Work" value="Work&#xa;────────────────────&#xa;+ Calls: list&#xa;+ Arrows: list&#xa;+ Properties: WorkProperties&#xa;+ FlowGuid: Guid option&#xa;+ FlowId: Id option&#xa;+ Flow: Flow option&#xa;+ Status4: DbStatus4 option&#xa;────────────────────&#xa;+ Create()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d4f1f4;strokeColor=#000000;align=left;" vertex="1" parent="1">
          <mxGeometry x="1000" y="1090" width="210" height="180" as="geometry" />
        </mxCell>

        <mxCell id="Call" value="Call&#xa;────────────────────&#xa;+ AutoConditions: ApiCallValueSpecs&#xa;+ CommonConditions: ApiCallValueSpecs&#xa;+ Properties: CallProperties&#xa;+ Status4: DbStatus4 option&#xa;+ ApiCalls: list&#xa;────────────────────&#xa;+ Create()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d4f1f4;strokeColor=#000000;align=left;" vertex="1" parent="1">
          <mxGeometry x="1240" y="1090" width="240" height="150" as="geometry" />
        </mxCell>

        <mxCell id="ApiCall" value="ApiCall&#xa;────────────────────&#xa;+ ValueSpec: IValueSpec option&#xa;+ IOTags: IOTagsWithSpec&#xa;+ Properties: ApiCallProperties&#xa;+ ApiDef: ApiDef&#xa;+ Callers: array&#xa;────────────────────&#xa;+ Create()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d4f1f4;strokeColor=#000000;align=left;" vertex="1" parent="1">
          <mxGeometry x="250" y="1320" width="220" height="140" as="geometry" />
        </mxCell>

        <mxCell id="ApiDef" value="ApiDef&#xa;────────────────────&#xa;+ Properties: ApiDefProperties&#xa;+ TX: Work&#xa;+ RX: Work&#xa;+ ApiUsers: array&#xa;────────────────────&#xa;+ Create()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d4f1f4;strokeColor=#000000;align=left;" vertex="1" parent="1">
          <mxGeometry x="500" y="1320" width="200" height="130" as="geometry" />
        </mxCell>

        <!-- Connect runtime classes to base -->
        <mxCell id="edge-proj-rt" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" edge="1" parent="1" source="Project" target="RtUnique">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="360" y="1070" />
              <mxPoint x="540" y="1070" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- ============ JSON Types ============ -->
        <mxCell id="json-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe8cc;strokeColor=#cc6600;opacity=20;" vertex="1" parent="1">
          <mxGeometry x="220" y="1500" width="1260" height="250" as="geometry" />
        </mxCell>
        <mxCell id="json-label" value="JSON Types" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#cc6600" vertex="1" parent="1">
          <mxGeometry x="240" y="1510" width="200" height="30" as="geometry" />
        </mxCell>

        <mxCell id="NjProject" value="NjProject&#xa;────────────────────&#xa;+ ActiveSystems: array&#xa;+ PassiveSystems: array&#xa;+ Properties: ProjectProperties&#xa;────────────────────&#xa;+ FromJson()&#xa;+ ToJson()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe8cc;strokeColor=#000000;align=left;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="250" y="1560" width="220" height="150" as="geometry" />
        </mxCell>

        <mxCell id="NjSystem" value="NjSystem&#xa;────────────────────&#xa;+ Flows: array&#xa;+ Works: array&#xa;+ Arrows: array&#xa;+ ApiDefs: array&#xa;+ ApiCalls: array&#xa;+ Properties: DsSystemProperties&#xa;────────────────────&#xa;+ ExportToJson()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe8cc;strokeColor=#000000;align=left;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="500" y="1560" width="240" height="170" as="geometry" />
        </mxCell>

        <mxCell id="NjFlow" value="NjFlow&#xa;────────────────────&#xa;+ Properties: FlowProperties&#xa;────────────────────&#xa;+ Create()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe8cc;strokeColor=#000000;align=left;" vertex="1" parent="1">
          <mxGeometry x="770" y="1560" width="180" height="90" as="geometry" />
        </mxCell>

        <mxCell id="NjWork" value="NjWork&#xa;────────────────────&#xa;+ Calls: array&#xa;+ Arrows: array&#xa;+ Properties: WorkProperties&#xa;+ FlowGuid: string&#xa;+ Status4: DbStatus4 option&#xa;────────────────────&#xa;+ Create()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe8cc;strokeColor=#000000;align=left;" vertex="1" parent="1">
          <mxGeometry x="980" y="1560" width="220" height="140" as="geometry" />
        </mxCell>

        <mxCell id="NjCall" value="NjCall&#xa;────────────────────&#xa;+ AutoConditions: string&#xa;+ CommonConditions: string&#xa;+ Properties: CallProperties&#xa;+ Status4: DbStatus4 option&#xa;────────────────────&#xa;+ Create()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe8cc;strokeColor=#000000;align=left;" vertex="1" parent="1">
          <mxGeometry x="1230" y="1560" width="220" height="130" as="geometry" />
        </mxCell>

        <!-- Conversion arrows between Runtime and JSON -->
        <mxCell id="conv-proj" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=open;endFill=0;dashed=1;strokeWidth=2;strokeColor=#0066CC;" edge="1" parent="1" source="Project" target="NjProject">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conv-label1" value="ToNjObj() / RuntimeObject" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontColor=#0066CC;fontStyle=1" vertex="1" connectable="0" parent="conv-proj">
          <mxGeometry x="-0.1" relative="1" as="geometry">
            <mxPoint x="20" as="offset" />
          </mxGeometry>
        </mxCell>

        <mxCell id="conv-sys" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=open;endFill=0;dashed=1;strokeWidth=2;strokeColor=#0066CC;" edge="1" parent="1" source="DsSystem" target="NjSystem">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ============ Properties Types ============ -->
        <mxCell id="props-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;opacity=20;" vertex="1" parent="1">
          <mxGeometry x="1520" y="620" width="440" height="680" as="geometry" />
        </mxCell>
        <mxCell id="props-label" value="Properties Classes" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#82b366" vertex="1" parent="1">
          <mxGeometry x="1540" y="630" width="250" height="30" as="geometry" />
        </mxCell>

        <mxCell id="DsPropertiesBase" value="&amp;lt;&amp;lt;abstract&amp;gt;&amp;gt;&#xa;DsPropertiesBase&#xa;────────────────────&#xa;+ ShouldSerializeId(): bool&#xa;+ ShouldSerializeGuid(): bool" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#000000;align=left;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1540" y="680" width="220" height="90" as="geometry" />
        </mxCell>

        <mxCell id="ProjectProperties" value="ProjectProperties&#xa;────────────────────&#xa;+ Database: DbProvider&#xa;+ AasxPath: string&#xa;+ Author: string&#xa;+ Version: Version&#xa;+ Description: string&#xa;+ DateTime: DateTime&#xa;+ ProjectMemo: string" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#000000;align=left;" vertex="1" parent="1">
          <mxGeometry x="1540" y="800" width="190" height="140" as="geometry" />
        </mxCell>

        <mxCell id="DsSystemProperties" value="DsSystemProperties&#xa;────────────────────&#xa;+ Author: string&#xa;+ EngineVersion: Version&#xa;+ LangVersion: Version&#xa;+ Description: string&#xa;+ DateTime: DateTime&#xa;+ Text: string" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#000000;align=left;" vertex="1" parent="1">
          <mxGeometry x="1540" y="960" width="190" height="130" as="geometry" />
        </mxCell>

        <mxCell id="WorkProperties" value="WorkProperties&#xa;────────────────────&#xa;+ Motion: string&#xa;+ Script: string&#xa;+ ExternalStart: string&#xa;+ IsFinished: bool&#xa;+ NumRepeat: int&#xa;+ Period: int&#xa;+ Delay: int&#xa;+ WorkMemo: string" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#000000;align=left;" vertex="1" parent="1">
          <mxGeometry x="1760" y="800" width="180" height="150" as="geometry" />
        </mxCell>

        <mxCell id="CallProperties" value="CallProperties&#xa;────────────────────&#xa;+ CallType: DbCallType&#xa;+ IsDisabled: bool&#xa;+ Timeout: int option&#xa;+ ApiCallGuids: ResizeArray&#xa;+ CallMemo: string" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#000000;align=left;" vertex="1" parent="1">
          <mxGeometry x="1760" y="970" width="180" height="120" as="geometry" />
        </mxCell>

        <!-- Properties inheritance -->
        <mxCell id="edge-projprop" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" edge="1" parent="1" source="ProjectProperties" target="DsPropertiesBase">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge-sysprop" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" edge="1" parent="1" source="DsSystemProperties" target="DsPropertiesBase">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1635" y="950" />
              <mxPoint x="1650" y="950" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="edge-workprop" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" edge="1" parent="1" source="WorkProperties" target="DsPropertiesBase">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1850" y="780" />
              <mxPoint x="1650" y="780" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="edge-callprop" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" edge="1" parent="1" source="CallProperties" target="DsPropertiesBase">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1850" y="780" />
              <mxPoint x="1650" y="780" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- ============ Legend ============ -->
        <mxCell id="legend-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="30" y="100" width="160" height="420" as="geometry" />
        </mxCell>
        <mxCell id="legend-title" value="범례 (Legend)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="110" width="140" height="30" as="geometry" />
        </mxCell>

        <mxCell id="legend-interface" value="&amp;lt;&amp;lt;interface&amp;gt;&amp;gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff4e1;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="50" y="150" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="legend-abstract" value="&amp;lt;&amp;lt;abstract&amp;gt;&amp;gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1f5ff;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="50" y="200" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="legend-runtime" value="Runtime Type" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d4f1f4;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="50" y="250" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="legend-json" value="JSON Type" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe8cc;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="50" y="300" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="legend-properties" value="Properties Type" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="50" y="350" width="120" height="40" as="geometry" />
        </mxCell>

        <mxCell id="legend-inherit" value="────▷" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="50" y="410" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend-inherit-label" value="상속" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="110" y="410" width="60" height="20" as="geometry" />
        </mxCell>

        <mxCell id="legend-impl" value="- - -▷" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="50" y="440" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend-impl-label" value="구현" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="110" y="440" width="60" height="20" as="geometry" />
        </mxCell>

        <mxCell id="legend-convert" value="⋯⋯⋯▷" style="text;html=1;strokeColor=#0066CC;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#0066CC;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="50" y="470" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend-convert-label" value="변환" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#0066CC;" vertex="1" parent="1">
          <mxGeometry x="110" y="470" width="60" height="20" as="geometry" />
        </mxCell>

        <!-- ============ Notes ============ -->
        <mxCell id="note1" value="&lt;b&gt;Triple Type System&lt;/b&gt;&#xa;&#xa;1. Runtime Types (IRt*)&#xa;   - 메모리에서 실행되는 비즈니스 객체&#xa;   - 불변성과 타입 안전성 보장&#xa;&#xa;2. JSON Types (INj*)&#xa;   - Newtonsoft.Json 직렬화용 객체&#xa;   - $type 필드를 통한 다형성 지원&#xa;&#xa;3. ORM Types (IORM*)&#xa;   - 데이터베이스 테이블 매핑 객체&#xa;   - Dapper와 완벽 호환&#xa;&#xa;변환 흐름:&#xa;Runtime ↔ JSON ↔ ORM ↔ Database" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffcc;strokeColor=#000000;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5;" vertex="1" parent="1">
          <mxGeometry x="30" y="560" width="160" height="300" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
