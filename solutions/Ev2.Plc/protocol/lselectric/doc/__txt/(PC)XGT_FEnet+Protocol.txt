작성일
:
2005.3.30
XGT
FEnet
I/F
모듈
프로토콜
규격
XGT
FEnet
I/F
모듈
프로토콜
규격
XGT FEnet
I/F
모듈
프로토콜
규격
1
전용통신
개
요
전용통신
서비스는
FEnet
I/F
모듈에
내장된
프로토콜로
PC
및
주변기기에서
PLC
내의
정보
및
데이터를
읽고
쓸
수
있는
서비스
입니다
.
통신
네트워크에서
슬레이브로
동작하게
되며
외부
기기
나
PC
에서의
XGT
프로토콜이나
모드버스
TCP
프로토콜을
따르는
메모리
읽기
,
쓰기
요청이
올
경우
응답
합니다
(XGT
전용
드라이버와
MODBUS TCP
드라이버
지원
)
FEnet
I/F
모듈의
XGT
전용
드라이버를
위한
TCP
포트
2004
와
UDP
포트
2005
를
이용하고
있으며
,
MODBUS
TCP
드라이버는
TCP
502
를
이용하고
있습니다
.
자사
Ethernet
모듈
사이의
통신
,
상위
시스템
(PC
프로그램
,
MMI)
과
자사의
Ethernet
모듈
사이의
통신에
유용하게
사용
할
수
있습니다
.
XGT
전용
드라이버
설정
Ethernet
통신을
하기
위해서는
반드시
기본파라미터를
설정해서
다운로드
한
뒤에
사용해야
하듯이
,
전용
서비스를
이용해서
통신을
하려면
반드시
설정
후
다운로드
해야
합니다
.
(
설정하지
않았을
경우
XGT
SERVER)
기본
파라미터
내에
전용
접속
개수는
자사의
전용
포트
(2004)
를
이용해서
맺어진
채널
(MMI
접속
)
개수를
의미합니다
.
따라서
프레임
편집기의
전용
접속
개수를
변환함으로써
자사의
전용
통신용
채널
접속
개수
변경
할
수
있습니다
.
2/21
XGT
FEnet
I/F
모듈
프로토콜
규격
프레임
구조
자사
Ethernet
모듈의
어플리케이션
프레임의
구조를
아래에
나타냅니다
.
Header
IP
Header
TCP
Header
Application
Data
Format
Application Header Format
Application Instruction
Format
헤더
구조
(Application
Header
Format)
항
목
크기
(byte)
내용
Company
ID
8
“LSIS-XGT”
(ASCII
CODE
:
4C
53
49
53
2D
58
47
54
00
00)
Reserved
2
0x00
:
예약영역
PLC
Info
2
클라이언트
(MMI)

서버
(PLC) : Don’ care (0x00)
서버
(MMI)

클라이언트
(PLC) :
Reserved1
이
0x00
인
경우
Bit00~05
:
CPU
TYPE
01(XGK-CPUH),
02(XGK-CPUS)
Bit06
:
0
(
이중화
Master
/
단독
),
1(
이중화
Slave)
Bit07
:
0(CPU
동장
정상
),
1(CPU
동작
에러
)
Bit08~12
:
시스템
상태
2(STOP),
4(RUN),
8(PAUSE),
10(DEBUG)
Bit13~15
:
Reserved
CPU
Info
1
0xA0
주
1)
Source
of Frame
1
클라이언트
(MMI)

서버
(PLC)
: 0x33
서버
(PLC)

클라이언트
(MMI)
:
0x11
Invoke
ID
2
Frame
간의
순서를
구별하기
위한
ID
(
응답
프레임에
이
번호를
붙여
보내줌
)
Length
2
Application
Instruction
의
바이트
크기
FEnet
Position
1
Bit0~3
:
FEnet
I/F
모듈의
슬롯
(Slot)
번호
Bit4~7
:
FEnet
I/F
모듈의
베이스
(Base)
번호
Reserved2
(BCC)
1
0x00
:
예약영역
(Application
Header
의
Byte
Sum)
주
1)
Reserved
영역을
통해
XGK/XGI
시리즈임을
판단
3/21
XGT
FEnet
I/F
모듈
프로토콜
규격
프레임
기본
구조
(Application
Instruction
Format)
헤더
Company
ID
(‘LSIS-
XGT’)
PLC
정보
영역
(2)
예약
(1)
H33
(1)
Invoke ID
(2)
Length
(2)
예약
영역
(1)
BCC
(1)
**
( )
괄호
안의
수는
바이트
개수
▷
Company
ID
:
아스키
문자열로
‘LSIS-XGT’
▷
PLC
Info
PLC
에
대한
정보
영역
▷
Invoke
ID
:
프레임간의
순서를
구별하기
위한
ID
로
명령
요구
시
임의로
지정할
수
있으며
,
응답
프레임은
명령
요구
시
수신된
Invoke
ID
를
재송신
합니다
.(PC
나
MMI
에서
에러
체크를
위해서
사용하는
영역
)
▷
Length
:
프레임
중
헤더
뒤에
오는
데이터
영역의
길이
명령
요구
프레임
(
외부
통신
기기
→
FEnet
I/F
모듈
)
헤더
명령어
데이터
타입
예약영역
(2
바이트
)
구조화된
데이터
영역
ACK
응답
프레임
(FEnet
모듈
→
외부
통신
기기
,
데이터
정상
수신
시
)
헤더
명령어
데이터
타입
예약영역
(2
바이트
)
에러상태
(2
바
이트
h’0000)
구조화된
데이터
영역
NAK
응답
프레임
(FEnet
모듈
→
외부
통신
기기
,
데이터
비정상
수신
시
)
헤더
명령어
데이터
타입
예약영역
(2
바이트
)
에러상태
(2
바이트
:
h’0000
가
아님
)
에러
코드
(1
바이트
)
알아두기
1)
프레임
내의
숫자
앞에
16
진수
데이터인
경우
01,
h’12345,
h’34,
0x12,
0x89AB
와
같이
‘h’’
또는
‘0x’
에
의해
이
데이터가
16
진수
타입
임을
표시합니다
.
4/21
XGT
FEnet
I/F
모듈
프로토콜
규격
명령어
일람
전용
통신
서비스에서
사용되는
명령들은
아래
표와
같습니다
.
명령어
명령어
코드
데이터
형식
처
리
내
용
읽기
요구
:h’0054
응답
:h’0055
개별
Bit,
Byte,
Word,
Dword,
Lword
형의
변수의
각
데이터
타입에
따라
데이터를
읽어
옵니다
연속
바이트
형의
변수를
블록
단위로
읽어옵니다
.
(
최대
1,400
바이트
).
쓰기
요구
:h’0058
응답
:h’0059
개별
Bit,
Byte,
Word,
Dword,
Lword
형의
변수의
각
데이터
타입에
따라
데이터를
씁니다
.
연속
바이트
형의
변수를
블록
단위로
씁니다
.
(
최대
1,400
바이트
).
[
표
1.1]
명령어
일람
데이터
타입
변수의
데이터
종류
XGT
PLC
의
메모리
디바이스
종류
:
P,
M,
L,
F,
K,
C,
D,
T,
N,
R
등의
변수에
대한
데이터
타입은
변수
표시
문자
‘%’
다음에
표시
합니다
.
데이터
타입
사용
예
.
Bit
%PX0,%LX0,%FX0
Byte
%MB0,
%PB0,
%DB0
Word
%PW0,%LW0,%FW0,%DW0
DWord
%PD0,%LD0,%FD0,%DD0
LWord
%PL0,%LL0,%FL0,%DL0
[
표
1.2]
직접변수의
데이터
종류
일람
데이터
타입
직접변수를
읽거나
쓰고자
할
경우
명령어
타입으로
데이터
타입을
지정합니다.
데이터
타입
코드
데이터
타입
코드
BIT
h’00
LWORD
h’04
BYTE
h’01
DWORD
h’03
WORD
h’02
LWORD
h’04
DWORD
h’03
연속
h’14
[표
1.3]
직접변수의
데이터
타입
일람
5/21
XGT
FEnet
I/F
모듈
프로토콜
규격
2.
명령어
실행
변수
개별
읽기
개
요
PLC
디바이스
메모리를
직접
지정하여
메모리
데이터
타입에
맞게
읽는
기능입니다
.
한
번에
16
개의
독립된
디바이스
메모리를
읽을
수
있습니다
.
요구
포맷
(PC
->
PLC)
개별
변수
읽기
요구
(MMI

PLC)
항
목
크기
(byte)
내용
명령어
2
0x0054
: Read Request
데이터
타입
2
Data
Type
표
참조
(X,B,W,D,L)
예약
영역
2
0x0000
:
Don’t
Care.
변수
개수
2
읽고자
하는
Variable
의
개수
최대
16
개
변수명
길이
2
직접변수의
길이
.
최대
16
자
.
변수
변수명
길이
직접변수만
사용가능
...
...
(
변수
개수만큼
반복
/
최대
16)
변수명
길이
2
직접변수의
길이
.
최대
16
자
.
변수
변수명
길이
직접변수만
사용가능
포맷
이름
헤더
명령어
데이터
타입
예약
영역
블록수
변수
길이
직접
변수
...
코드
(
예
)
h’0054
h’0002
h’0000
h’0001
h’0006
%MW100
1
블록
(
최대
16
블록
까지
반복
설정
가능
)
블록
수
이것은
‘[
변수
길이
][
변수
]’
으로
구성된
블록이
이
요구
포맷에
몇
개가
있는지를
지정하는
것으로
최대
16
개의
블록까지
설정할
수
있습니다
.
따라서
[
블록수
]
의
값은
h’0001
~
h’0010
이어야
합니다
.
변수
길이
(
변수
이름
길이
)
변수를
의미하는
이름의
글자
수를
나타내는
것으로
최대
16
자까지
허용됩니다
.
이
값의
범위는
h’01
에서
h’10
까지
입니다
.
6/21
XGT
FEnet
I/F
모듈
프로토콜
규격
변수
실제로
읽어올
변수의
어드레스를
입력합니다
.
16
자
내의
아스키
값이어야
하며
,
이
변수
이름에는
숫자
,
대
/
소문자
,
‘%’
및
’.’
이외에는
허용되지
않습니다
.
PLC
타입에
따라
사용
가능한
변수를
아래
표에
표시
하였습니다
.
구 분
Bool
Byte
Word
Double Word
Long
Word
XGT
메모리
%(P,M,L,K,F,T)X
-
%(P,M,L,K,F,
T,C,D,S)W
-
-
[
표
2.1]
변수
종류
알아두기
1)
프레임
작성
시
위의
프레임에서
16
진수
워드
데이터를
표현할
때는
숫자
앞의
h
를
빼고
,
두
바이트의
위치를
바꾸어
주어야
합니다
.
예
)
h’0054
⇒
5400
응답
포맷
(PLC
가
ACK
응답
시
)
개별
변수
읽기
응답
(PLC

MMI)
항
목
크기
(byte)
내용
명령어
2
0x0055 :
Read Response
데이터
타입
2
Data
Type
표
참조
예약
영역
2
0x0000
:
Don’t
Care
에러
상태
2
0
이면
정상
,
0
이
아니면
에러
에러
정보
2
Error
State
가
에러인
경우
하위
Byte
가
에러
번호
변수
개수
Error
State
가
정상인
경우
읽어온
Variable
의
개수
데이터
크기
2
Data
의
Byte
Size.
데이터
데이터
크기
읽어온
Data.
...
...
(
변수
개수만큼
반복
/
최대
16)
데이터
크기
2
Data
의
Byte
Size.
데이터
데이터
크기
읽어온
Data.
포맷
이름
헤더
명령어
데이터
타입
예약
영역
에러
상태
블록수
데이터
개수
데이터
......
코드
(
예
)
...
h’0055
h’0002
h’0000
h’0000
h’0001
h’0002
h’1234
1
블록
(
최대
16
블록
)
7/21
XGT
FEnet
I/F
모듈
프로토콜
규격
데이터
개수
HEX
형의
바이트
개수
를
의미합니다
.
이
개수는
컴퓨터
요구
포맷의
변수
이름에
포함되어
있는
메모리
타입
(X,B,W,D,L)
에
따라
결정됩니다
블록
수
이것은
‘[
데이터개수
][
데이터
]’
로
구성된
블록이
이
요구
포맷에
몇
개가
있는지를
지정하는
것으로
최대
16
개
블록까지
설정할
수
있습니다
.
따라서
[
블록수
]
의
값은
h’0001~
h’0010
이어야
합니다
.
구
분
가능한
변수
데이터
개수
(Byte)
Bool(X)
%(P,M,L,K,F,T)X
1
(
최하위
비트만
유효
)
Word(W)
%(P,M,L,K,F,T,C,D,S)W
2
[
표
2.2]
변수에
따른
데이터
개수
알아두기
1)
데이터
개수가
H04
라는
의미는
데이터에
4
바이트의
16
진수
(HEX)
데이터가
있음
(Double
Word)
을
표시합니다
.
1)
데이터
타입이
Bool
인
경우
읽은
데이터는
한
Byte(HEX)
로
표시됩니다
.
즉
BIT
값이
0
이면
h’00
으로
,
1
이면
h’01
로
표시됩니다
.
응답
포맷
(NAK
응답
시
)
포맷
이름
헤더
명령어
데이터
타입
예약영역
에러상태
에러
코드
(Hex
1
Byte)
코드
(
예
)
...
h’0055
h’0002
h’0000
h’FFFF
(0
이
아닌
값
)
h’21
알아두기
1)
에러코드는
헥사로
1
바이트의
내용으로
에러의
종류를
표시합니다
.
자세한
내용은
‘
에러코드
표
’
참조하십시오
.
8/21
XGT
FEnet
I/F
모듈
프로토콜
규격
변수
연속
읽기
개
요
PLC
디바이스
메모리를
직접
지정하여
지정된
번지부터
지정된
양
만큼의
데이터를
연속으로
읽는
기능
입니다
.
요구포맷
(PC
⇒
PLC)
연속변수
읽기
요구
(MMI

PLC)
항
목
크기
(byte)
내용
명령어
2
0x0054
:
Read
Request
데이터
타입
2
0x0014
:
Block
Type
예약
영역
2
0x0000
:
Don’t
Care.
변수
개수
2
읽고자
하는
Variable
의
개수
최대
16
개
변수명
길이
2
변수명의
길이
.
최대
16
자
.
변수
변수명
길이
Variable
명
.
바이트 타입 직접변수만 사용가능
.
(
즉
,
%MB
/
%PB
/
%DB…..
형태
가능
:
지원
디바이스
:P,N,L,K,T,C,D,N,
F)
블록의
선두
번지를
나타냄
. (
예
.
%MB0, %PB0)
변수명
길이
2
Data
의
Byte
Size,
최대
1400byte
포맷이름
헤더
명령어
데이터
타입
예약
영역
블록수
변수
길이
직접
변수
데이터
개수
코드
(
예
)
...
h’0054
h’0014
h’0000
h’0001
h’0006
%MWOO
O
h’0006
알아두기
1)
데이터
개수는
데이터의
바이트
개수를
의미합니다
(
최대
1,400
바이트
).
데이터
타입
데이터
타입은
h’0014
로만
사용할
수
있습니다
.
블록수
블록
수는
반드시
h’0001
로만
사용할
수
있습니다
.
변수
길이
9/21
XGT
FEnet
I/F
모듈
프로토콜
규격
변수를
의미하는
이름의
자
수를
나타내는
것으로
최대
16
자까지
허용되며
범위는
h’0001
에서
h’0010
까지
입니다
.
변수
실제로
읽어올
변수의
어드레스를
말하며
16
자
내의
아스키
값이어야
하고
변수
이름에는
숫자
,
대소문자
,
‘%’
및
’.’
이외에는
허용되지
않습니다
.
변수의
연속
읽기에
가능한
변수
종류는
PLC
타입에
따라
가능한
종류를
아래
표에
표시하였습니
다
.
응답
포맷
(PLC
ACK
응답
시
)
연속
변수
읽기
응답
(PLC

MMI)
항
목
크기
(byte)
내용
명령어
2
0x0055 :
Read Response
데이터
타입
2
0x0014
:
블록
타입
예약
영역
2
0x0000
:
Don’t
Care
에러
상태
2
0
이면
정상
,
0
이
아니면
에러
에러
정보
2
Error
State
가
에러인
경우
하위
Byte
가
에러
번호
변수
개수
0x0001
:
Error
State
가
정상인
경우
데이터
크기
2
Data
의
Byte
Size.
데이터
데이터
크기
읽고자
하는
Data,
최대
1400byte
포맷
이름
헤더
명령어
데이터
타입
예약
영역
에러
상태
블록수
데이터
개수
데이터
코드
(
예
)
...
h’0055
h’0014
h’0000
h’0000
h’0001
h’0006
h’0123456
789AB
▷
데이터
개수는
헥사형의
바이트
개수를
의미합니다
.
응답
포맷
(PLC
NAK
응답
시
)
포맷
이름
헤더
명령어
데이터
타입
예약영역
에러상태
에러코드
(Hex
1Byte)
코드
(
예
)
...
h’0055
h’0014
h’0000
h’FFFF
h’21
알아두기
1)
에러코드는
HEX
로
1
바이트의
내용으로
에러의
종류를
표시합니다
.
자세한
내용은
‘
에러코드
표
’
참조하십시오
.
10/21
XGT
FEnet
I/F
모듈
프로토콜
규격
변수
개별
쓰기
개
요
PLC
디바이스
메모리를
직접
지정하여
메모리
데이터
타입에
맞게
쓰는
기능입니다
.
한번에
16
개의
독립된
디바이스
메모리에
데이터를
쓸
수
있습니다
.
요구
포맷
(PC ->
PLC)
개별
변수
쓰기
요구
(MMI

PLC)
항
목
크기
(byte)
내용
명령어
2
0x0058
:
Write
Request
데이터
타입
2
Data
Type
표
참조
예약
영역
2
0x0000
:
Don’t
Care.
변수
개수
2
쓰고자
하는
Variable
의
개수
.
최대
16
개
.
변수명
길이
2
직접변수의
길이
.
최대
16
자
.
변수명
변수명
길이
직접변수만
사용가능
...
...
(
변수
개수만큼
반복
/
최대
16)
변수명
길이
2
직접변수의
길이
.
최대
16
자
.
변수명
변수명
길이
직접변수만
사용가능
데이터
크기
2
Data
의
Byte
Size.
데이터
데이터
크기
쓸
Data.
...
...
(
변수
개수만큼
반복
/
최대
16)
데이터
크기
2
Data
의
Byte
Size.
데이터
데이터
크기
쓸
Data.
포맷
이름
헤
더
명령어
데이터
타입
예약
영역
블록수
변수
길이
직접
변수
..
데이터
개수
데이터
..
코드
(
예
)
..
h’0058
h’0002
h’0000
h’0001
h’0006
%MW
100
h’0002
h’1234
1
블록
(
최대
16
블록
까지
반복
설정
가능
)
블록수
이것은
‘[
변수
길이
][
변수
]’
와
‘[
데이터
길이
][
데이터
]’
로
구성된
블록이
이
요구
포맷에
몇
개가
있는지를
지정하는
것으로
최대
16
개
블록까지
설정할
수
있습니다
.
따라서
[
블록수
]
의
값은
h’01~
h’10
이어야
합니다
.
변수
길이
(
변수
이름
길이
)
변수를
의미하는
이름의
글자
수를
나타내는
것으로
최대
16
자까지
허용됩니다
.
값의
범위는
h’01
에서
h’10
까지
입니다
.
11/21
XGT
FEnet
I/F
모듈
프로토콜
규격
변수
실제로
쓰고자
하는
변수의
어드레스를
입력합니다
.
16
자
내의
아스키
값이어야
하며
,
변수
이름에는
숫자
,
대소문자
,
‘%’
및
’.’
이외에는
허용되지
않습니다
.
알아두기
각
블록의
디바이스
데이터
타입은
반드시
동일하여야
합니다
.
만일
첫번째
블록의
데이터
타입은
Word
이고
,
두번째
블록의
데이터
타입은
Double
Word
라면
에러가
발생합니다
.
데이터
타입이
Bool
인
경우
읽은
데이터는
HEX
로
한
Byte
로
표시합니다
.
즉
BIT
값이
0
이면
h’00
으로
,
1
이면
h’01
로
표시됩니다
.
응답
포맷
(PLC
가
ACK
응답
시
)
포맷
이름
헤더
명령어
데이터
타입
예약
영역
에러
상태
블록
수
코드
(
예
)
...
h’0059
h’0002
h’0000
h’0000
h’0001
(1)
블록수
정상적으로
쓰여진
블록
수를
나타냅니다
.
응답
포맷
(NAK
응답
시
)
포맷
이름
헤더
명령어
데이터
타입
예약
영역
에러상태
에러
코드
(Hex
1
Byte)
코드
(
예
)
...
h’0059
h’0002
h’0000
h’FFFF
(0
이아닌값
)
h’21
알아두기
1)
에러
코드는
헥사로
1
바이트의
내용으로
에러
종류를
표시합니다
.
자세한
내용은
‘
에러코드
’
를
참조하십시오
.
12/21
XGT
FEnet
I/F
모듈
프로토콜
규격
변수
연속
쓰기
개
요
PLC
디바이스
메모리를
직접
지정하여
메모리에
데이터를
쓰는
기능입니다
.
지정된
번지부터 지정된 양 만큼의 데이터를 연속으로 쓰는 기능 입니다
.
단
,
바이트 형태의 변수만
사용
가능
합니다
.
나
)
요구포맷
연속변수
쓰기
요구
(MMI

PLC)
항
목
크기
(byte)
내용
명령어
2
0x0058
:
Write
Request
데이터
타입
2
0x0014
:
블록
타입
예약
영역
2
0x0000
:
Don’t
Care.
변수
개수
2
쓰고자
하는
Variable
의
개수
.
0x0001
변수명
길이
2
Variable
명의
길이
.
최대
16
자
.
변수명
변수명
길이
Variable
명
.
바이트 타입 직접변수만 사용가능
.
(
즉
,
%MB
/
%PB
/
%DB/…..
형태
가능
:
지원
디바이스
:P,N,L,K,T,C,D,N
)
블록의
선두
번지를
나타냄
. (
예
.
%MB0, %PB0)
데이터
데이터
크기
쓰고자
하는
Data,
최대
1400byte
포맷
이름
헤더
명령어
데이터
타입
예약
영역
블록수
변수
길이
변수
데이터
개수
데이터
코드
(
예
)
...
h’0058
h’0014
h’0000
h’0001
h’0006
%MB10
0
h’0002
h’1234
데이터
개수
데이터의
바이트
개수를
의미합니다
(
최대
1,400
바이트
).
블록수
이
값은
h’0001
로만
사용할
수
있습니다
.
변수
길이
변수를
의미하는
이름의
자
수를
나타내는
것으로
최대
16
자까지
허용되고
,
범위는
h’01
에서
h’10
까지
입니다
.
변수
실제로
쓸
변수의
어드레스를
말하며
16
자
내의
아스키
값이어야
하고
변수
이름에는
숫자
,
대소문자
,
‘%’
및
’.’
이외에는
허용되지
않습니다
.
PLC
타입에
따라
변수
연
속
쓰기가
가능한
종류는
[
표
10.3.2]
변수에
따른
데이터
개수를
참조하기
바랍니다
.
13/21
XGT
FEnet
I/F
모듈
프로토콜
규격
알아두기
1)
XGT
시리즈
각
디바이스의
영역
지정
방법은
해당
기술자료를
참조하여
주십시오
.
응답
포맷
(PLC
ACK
응답
시
)
연속
변수
읽기
응답
(PLC

MMI)
항
목
크기
(byte)
내용
명령어
2
0x0059
: Write Response
데이터
타입
2
0x0014
:
블록
타입
예약
영역
2
0x0000
:
Don’t
Care
에러
상태
2
0
이면
정상
,
0
이
아니면
에러
에러
정보
2
Error
State
가
에러인
경우
하위
Byte
가
에러
번호
변수
개수
0x0001
:
Error
State
가
정상인
경우
포맷이름
헤더
명령어
데이터
타입
예약영역
에러상태
블록수
코드
(
예
)
...
h’0059
h’0014
h’0000
h’0000
h’0001
데이터
타입
가능한
데이터
타입은
바이트
타입
(%MB,%IB,%QB)
입니다
.
데이터
개수
바이트
(
헥사
)
개수를
의미합니다
.
응답
포맷
(PLC
NAK
응답
시
)
포맷
이름
헤더
명령어
데이터
타입
예약영역
에러상태
에러코드
(Hex
1
Byte)
코드
(
예
)
....
h’0059
h’0014
h’0000
h’FFFF
h’21
(1)
에러
코드
헥사로
1
바이트의
내용으로
에러
종류를
표시합니다
.
자세한
내용은
‘
에러코드
표
’
를
참조하십시오
.
14/21
XGT
FEnet
I/F
모듈
프로토콜
규격
STATUS
읽기
요구
(MMI
->
PLC)
개
요
PLC
내의
정보
및
상태
등을
통신을
이용해서
사용할
수
있게
하는   서비스
입니다
.
컴퓨터
요구
포맷
항
목
크기
(byte)
내
용
명령어
2
0x00B0
:
Status
Request
데이터
타입
2
0x0000
:
Don’t
Care
예약
영역
2
0x0000
:
Don’t
Care
응답
포맷
(PLC
에서
ACK
응답
)
항
목
크기
(byte)
내
용
명령어
2
0x00B1
:
Status
Response
데이터
타입
2
0x0000
:
Don’t
Care
예약
영역
2
0x0000
:
Don’t
Care
에러
상태
2
0
이면
정상
,
0
이
아니면
에러코드
데이터
크기
2
0x0018
데이터
24
Status
Data
XGT
Status
Data
구조
항
목
크기
(byte)
Byte
위치
내
용
Slot
Info
4
0
슬롯
정보
Bit00~Bit03 :
로컬이 다른 국으로 리모트 접속한 슬롯 정보
Bit04~Bit07
:
로컬이
다른
국으로
리모트
접속한
베이스
정보
Bit08~Bit11 :
다른
국에서
리모트
접속한
슬롯
정보
Bit12~Bit15
:
다른
국에서
리모트
접속한
베이스
정보
Bit16~Bit19
:
본
모듈이
장착된
슬롯
정보
Bit20~Bit23
:
본
모듈이
장착된
베이스
정보
Bit24~Bit31
:
Reserved
_CPU_TYPE
2
4
시스템의
형태
플래그
_VER_NUM
2
6
OS
버전
번호
플래그
_SYS_STATE
4
8
PLC
모드와
운전상태
플래그
_PADT_CNF
2
12
XG5000
연결
상태
플래그
_CNF_ER
4
14
시스템의
에러
(
중고장
)
플래그
_CNF_WAR
4
18
시스템의
경고
플래그
Reserved
2
22
예약영역
*
각
항목에
대한
상세
설명은
*
플래그
설명
참조
.
15/21
XGT
FEnet
I/F
모듈
프로토콜
규격
플래그
설명
▣
_CPU_TYPE
15Bit
:
XGK(1)/XGI(0),
15Bit
:
단독,이중화
마스터(0)/이중화
슬레이브(1)
단독
: 0x8000~0xffff
0xA001
:
XGK-CPUH
0xA002
:
XGK-CPUS
▣
_VER_NUM
0xXXYY
:
xx.yy
▣
_SYS_STATE
시스템의
운전모드와
운전상태
정보를
표시합니다
.(DWORD, F00~F01)
변수
타입
디바이스
기능
설명
_RUN
Bit
F00000
RUN
CPU
모듈의
운전
상태가
RUN
중
_STOP
Bit
F00001
STOP
CPU
모듈의
운전
상태가
STOP
중
_ERROR
Bit
F00002
ERROR
CPU
모듈의
운전
상태가
ERROR
중
_DEBUG
Bit
F00003
DEBUG
CPU
모듈의
운전
상태가
DEBUG
중
_LOCAL_CON
Bit
F00004
로컬
컨트롤
모드
키에
의해서만
운전모드
변경이
가능
_MODBUS_CON
Bit
F00005
모드버스
모드
On
모드
버스
슬레이브
서비스
중
_REMOTE_CON
Bit
F00006
리모트
모드
On
리모트
모드에서
운전
중
-
Bit
F00007
-
-
_RUN_EDIT_ST
Bit
F00008
런중
수정
중
(
프로그램
다운로드중
)
런중
수정
시
수정된
프로그램
대기
중
_RUN_EDIT_CHK
Bit
F00009
런중
수정
중
(
내부
처리
중
)
런중
수정
내부
처리중
_RUN_EDIT_DONE
Bit
F0000A
런중
수정
완료
런중
수정이
정상적으로
끝남
_RUN_EDIT_END
Bit
F0000B
런중
수정
끝일
때
아는
내부
플래그
런중
수정이
정상적으로
수행되었음
_CMOD_KEY
Bit
F0000C
운전
모드
변경
요인
키에
의한
운전모드
변경
_CMOD_LPADT
Bit
F0000D
운전
모드
변경
요인
로컬
PADT
에
의한
운전모드
변경
_CMOD_RPADT
Bit
F0000E
운전
모드
변경
요인
리모트
PADT
에
의한
운전모드
변경
_CMOD_RLINK
Bit
F0000F
운전
모드
변경
요인
리모트
통신
모듈에
의한
운전
모드
변경
_FORCE_IN
Bit
F00010
강제
입력
입력접점에
대한
강제
On/Off
실행
중
_FORCE_OUT
Bit
F00011
강제
출력
출력접점에
대한
강제
On/Off
실행
중
16/21
XGT
FEnet
I/F
모듈
프로토콜
규격
변수
타입
디바이스
기능
설명
_SKIP_ON
Bit
F00012
입출력
Skip
실행
중
고장체크
및
데이터
리프레시를
중지하도록
지정된
입출력모듈이
있음
_EMASK_ON
Bit
F00013
고장
마스크
실행
중
고장이
발생하여도
운전을
속행하도록
지정된
입출력
모듈이
있음
_MON_ON
Bit
F00014
모니터
실행
중
프로그램
및
변수에
대한
외부
모니터
실행
중
_USTOP_ON
Bit
F00015
Stop
펑션에
의한
Stop
RUN
모드
운전
중
STOP
펑션에
의해
스캔
종료
후
정지
_ESTOP_ON
Bit
F00016
ESTOP
펑션에
의한
Stop
RUN
모드
운전
중
ESTOP
펑션에
의해
즉시
정지
_CONPILE_MODE
Bit
F00017
컴파일중
컴파일
수행
중
_INIT_RUN
Bit
F00018
초기화중
초기화
태스크가
수행
중
-
Bit
F00019
-
-
-
Bit
F0001A
-
-
-
Bit
F0001B
-
-
_PB1
Bit
F0001C
프로그램
코드
1
1
번
프로그램
코드
수행
중
_PB2
Bit
F0001D
프로그램
코드
2
2
번
프로그램
코드
수행
중
_CB1
Bit
F0001E
컴파일
코드
1
1
번
컴파일
코드
수행
중
_CB2
Bit
F0001F
컴파일
코드
2
2
번
컴파일
코드
수행
중
▣
_CNF_ER
운전
중지
고장
관련
에러
플래그들을
일괄
표시
변수
타입
디바이스
기능
설명
_CPU_ER
Bit
F00020
CPU
구성
에러
CPU
모듈의
자체진단
에러
발생으로
정상동작이
불가능
_IO_TYER
Bit
F00021
모듈
타입
불일치
에러
각
슬롯의
I/O
구성
파라미터와
실제
장착
모듈의
구성이
서로
다른
경우
_IO_DEER
Bit
F00022
모듈
착탈
에러
운전
중
각
슬롯의
모듈
구성이
달라질
경우
이를
검출하여
표시
_FUSE_ER
Bit
F00023
퓨즈
단선
에러
각
슬롯의
모듈
중
Fuse
가
부착된
모듈의
Fuse
가
단선된
경우
이를
검출하여
표시
_IO_RWER
Bit
F00024
입출력
모듈
읽기
/
쓰기
에러
(
고장
)
각
슬롯의
모듈
중
입출력
모듈을
정상적으로 읽기
/
쓰기를 할 수 없는 경우의
에러
발생시
표시
_IP_IFER
Bit
F00025
특수
/
통신
모듈
인터페이스
에러
(
고장
)
각
슬롯의
모듈
중
특수
또는
통신
모듈의
오동작으로
인하여
정상적인
인터페이스가
불가능한
경우의
에러
발생시
표시
_ANNUM_ER
Bit
F00026
외부기기의
중고장
검출
에러
사용자
프로그램에
의해
외부기기의
중고장을
검출하여
ANC_ERR[n]
에
기록한
경우
고장검출의
발생을
표시
17/21
XGT
FEnet
I/F
모듈
프로토콜
규격
변수
타입
디바이스
기능
설명
-
Bit
F00027
-
-
_BPRM_ER
Bit
F00028
기본
파라미터
이상
기본
파라미터의
이상
유무를
체크
하여
이상을
표시
_IOPRM_ER
Bit
F00029
IO
구성
파라미터
이상
I/O
구성
파라미터의
이상
유무를
체크
하여
이상을
표시
_SPPRM_ER
Bit
F0002A
특수
모듈
파라미터
이상
특수
모듈
파라미터의
이상
유무를
체크하여
이상을
표시
_CPPRM_ER
Bit
F0002B
통신
모듈
파라미터
이상
통신
모듈
파라미터의
이상
유무를
체크하여
이상을
표시
_PGM_ER
Bit
F0002C
프로그램
에러
사용자
프로그램의
이상
유무를
체크
하여
이상을
표시
_CODE_ER
Bit
F0002D
프로그램
코드
에러
사용자
프로그램
수행
중
해독할
수
없는
명령을
만났을
때
발생
_SWDT_ER
Bit
F0002E
시스템
워치독
에러
시스템
감시
시간
(System
watchdog)
을
초과했을
때
발생
_BASE_POWER_
ER
Bit
F0002F
전원
에러
베이스
전원에
이상이
있을
때
발생하는
에러
_WDT_ER
Bit
F00030
스캔
워치독
프로그램의
스캔
타임이
파라미터에
의해
지정한
스캔
지연
감시시간
(Scan
Watchdog
Time)
을
초과했을
때
발생하는
에러
-
F00031
F0003F
-
-
▣
_CNF_WAR
운전
속행과
관련한
경고
플래그들을
일괄
표시
(DWORD, F004~F005)
변수
타입
디바이스
기능
설명
_RTC_ER
Bit
F00040
RTC
데이터
이상
RTC
의
데이터
이상
시
이를
표시
_DBCK_ER
Bit
F00041
데이터
백업
이상
백업
이상으로
데이터
메모리가
훼손되어
,
정상적인
(
핫
또는
)
웜
리스타트
프로그램
수정이
불가능하여
콜드
리스타트를
수행한
경우
,
이를
알리는
플래그로
초기화
프로그램에서
사용
가능하며
초기화
프로그램의
완료
시
자동으로
리셋
_HBCK_ER
Bit
F00042
핫
리스타트
불가
에러
_ABSD_ER
Bit
F00043
비정상
운전
정지
프로그램
수행
중
전원
차단
등의
이유로
프로그램이
중도에
정지한
후
,
전원
재투입
시
스캔
단위로
동기된
데이터를
보존한
연속운전이
되지
못하였음을
경고하는
플래그로
초기화
프로그램에서
사용가능
하며
초기화
프로그램의
완료
시
자동으로
18/21
XGT
FEnet
I/F
모듈
프로토콜
규격
리셋
변수
타입
디바이스
기능
설명
_TASK_ER
Bit
F00044
태스크
충돌
사용자
프로그램
수행
시
동일한
태스크가
중복으로
실행이
요청되는
경우에
태스크의
충돌을
표시하는
플래그
_BAT_ER
Bit
F00045
배터리
이상
사용자
프로그램
및
데이터
메모리의
백업을
위한
배터리
전압이
규정
이하
일
때
이를
검출하여
표시
_ANNUM_ER
Bit
F00046
외부
기기의
경고장
검출
사용자
프로그램에
의해
외부기기의
경고장을
검출하여
ANC_WB[n]
에
기록한
경우
,
고장
검출의
발생을
표시
_LOG_FULL
Bit
F00047
로그
메모리
풀
경고
PLC
의
로그
메모리가
Full
이
되었음을
표시
_HS_WAR1
Bit
F00048
HS
라미터
1
이상
고속링크
인에이블
(Enable)
시
각
고속링크
파라미터의
이상을
체크
하여
고속링크
수행이
불가능할
때
이를
알리는
대표
플래그로서
고속링크
디스에이블
시
리셋
_HS_WAR2
Bit
F00049
HS
라미터
2
이상
_HS_WAR3
Bit
F0004A
HS
라미터
3
이상
_HS_WAR4
Bit
F0004B
HS
파라미터
4
이상
_HS_WAR5
Bit
F0004C
HS
파라미터
5
이상
_HS_WAR6
Bit
F0004D
HS
파라미터
6
이상
_HS_WAR7
Bit
F0004E
HS
파라미터
7
이상
_HS_WAR8
Bit
F0004F
HS
파라미터
8
이상
_HS_WAR9
Bit
F00050
HS
파라미터
9
이상
_HS_WAR10
Bit
F00051
HS
파라미터
10
이상
_HS_WAR11
Bit
F00052
HS
파라미터
11
이상
_HS_WAR12
Bit
F00053
HS
파라미터
12
이상
_P2P_WAR1
Bit
F00054
P2P
파라미터
1
이상
P2P
인에이블
(Ena_le)
시
각
P2P
파라미터의
이상을
체크
하여
P2P
수행이
불가능할
때
이를
알리는
대표
플래그로서
P2P
디스에이블시
리셋
_P2P_WAR2
Bit
F00055
P2P
파라미터
2
이상
_P2P_WAR3
Bit
F00056
P2P
파라미터
3
이상
_P2P_WAR4
Bit
F00057
P2P
파라미터
4
이상
_P2P_WAR5
Bit
F00058
P2P
파라미터
5
이상
_P2P_WAR6
Bit
F00059
P2P
파라미터
6
이상
_P2P_WAR7
-
F0005A
P2P
파라미터
7
이상
_P2P_WAR8
-
F0005B
P2P
파라미터
8
이상
_Constant_ER
-
F0005C
고정주기
오류
스캔타임이
설정된
‘
고정주기
’
보다
큰
경우
‘ON’
됩니다
-
-
F0005D
~F0005F
-
-
19/21
XGT
FEnet
I/F
모듈
프로토콜
규격
3.
모드버스
/TCP
전용서버
다른
기기
또는
상위
PC(MMI)
모드버스
마스터로
동작하는
경우
사용합니다
.
3.1
드라이버
설정
모드버스
TCP
드라이버가
지원하는
모드버스
펑션과
응답
데이터의
최대
개수는
다음
표와
같습니다
.
상대
마스터
기기는
다음
표의
범위
안에서만
요청을
해야
합니다
.
예를
들어
,
비트
읽기
요청은
최대
2000
비트까지이며
,
비트
쓰기
요청은
최대
1600
비트까지
가능
합니다
.
코드
내용
어드레스
응답크기
01
Read
Coil
Status
0XXXX
2000
Coils
02
Read
Input
Status
1XXXX
2000
Coils
03
Read Holding Registers
4XXXX
125 Registers
04
Read Input Registers
3XXXX
125 Registers
05
Force
Single
Coil
0XXXX
1
Coil
06
Preset
Single
Register
4XXXX
1
Register
15
Force
Multiple
Coils
0XXXX
1600
Coils
16
Preset Multiple Registers
4XXXX
100 Registers
위
Function
Code
별
요청에
대해
XG-T PLC
메모리에
대한
매핑
(Mapping)
을
해줘야
합니다
.
각
설정
항목의
의미는
다음과
같습니다
.
항목
의미
비고
DI
영역
주소
디지털
입력
영역에
해당하는
XGT
의
주소
Bit
주소
DO
영역
주소
디지털
출력
영역에
해당하는
XGT
의
주소
Bit
주소
AI
영역
주소
아날로그
입력
영역에
해당하는
XGT
의
주소
Word
주소
AO
영역
주소
아날로그
출력
영역에
해당하는
XGT
의
주소
Word
주소
각
항목에
설정한
주소
값은
해당
영역의
베이스
주소입니다
.
위
화면은
DI
영역을
MX1000
부터
할당하고
, AO
영역을
PW200
부터
할당한
경우입니다
.
20/21
XGT
FEnet
I/F
모듈
프로토콜
규격
베이스
어드레스
입력
값은
유효한
%M,P
등의
영역
내에
있어야
합니다
.
모드버스의
주소는
1 ~ 9999 (
십진수
)
이므로
비트
입
,
출력
영역의
크기는
9999/8 = 124875
바이트가
됩니다
.
또
,
워드
입
,
출력
영역의
크기는
9999*2 = 19998
바이트
입니다
.
만약
,
사용자가
비트
출력
(0XXXX)
영역의
베이스
어드레스로
0
을
설정했다면
,
모드버스
비트영역
00001
은
0
번째
바이트
, 0
번
비트에
대응되고
, 00002
은
0
번째
바이트
, 1
번
비트에
대응하게
됩니다
.
21/21