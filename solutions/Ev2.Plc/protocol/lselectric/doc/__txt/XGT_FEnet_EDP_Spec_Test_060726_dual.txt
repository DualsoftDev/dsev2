XGL-FEnet
Software
Design
Test
Software Design Test
(XGT,
FEnet
Dedicated
Protocol)
First
Edition:
2005.
12.
22
Last Edition: 2006. 07. 26
Editor:
Daehyun
Kwon
Advanced Platform Research Team
LSIS R&D
Center
1/17
XGL-FEnet
Software
Design
Test
Editing
History
Index
Date
Version
Chapter
Revision
1
2005.12.22
0.1
All
Created
2
2005.12.23
0.2
TB,
CoS
TB,
CoS
Tested
3
2006.01.07
0.3
6-2-4-1
RTC
AREA
SET
Retested because
of
Offset
Field.
4
2006.01.10
0.4
6-3-2
~
6-3-4
6-4-2
~
6-4-4
TB,
CoS
Restart,
Stop,
Delete
is
tested.
5
2006.06.06
0.5
6-2-4-2
TB
Device
Area
Write
CMD
Corrected.
TB
Multiple Blocks
Test
6
2006.06.08
0.6
TB,
CoS
TB/CoS
Alarm
Response
Frame
:
TCP
->
UDP
7
2006.07.26
0.7
6-2-4-1
RTC
SET
Format
is
changed to
RTC
Read Format
2/17
XGL-FEnet
Software
Design
Test
1.
Overview
This
document
talks
about
updated functions
and
revision on
Dedicated Protocol
of
XGT
FEnet.
Frame
Structure
The
structure
of
LS
Ethernet
module’s
application frame
is
as
shown
below;
Header
IP
Header
TCP
Header
Application
Data
Format
Application
Header
Format
Application
Instruction
Format
Header
Structure
(Application
Header
Format)
Item
Size(byte)
Description
Company
ID
8
“LSIS-XGT”
(ASCII
CODE :
4C
53 49
53
2D
58
47
54)
Reserved
2
0x00
:
Reserved
area
PLC
Info
2
Client(HMI)

Server(PLC)
:
Don’t
care
(0x00)
Server(PLC)

Client(HMI)
:
If
Reserved
1
is
0x00,
Bit00~05
:
CPU
TYPE
01(XGK-CPUH),
02(XGK-CPUS)
Bit06
:
0(Redundant
Master
/
Single),
1(Redundant Slave)
Bit07
:
0(CPU
operation
normal),
1(CPU operation
error)
Bit08~12
: System
status
1(RUN),2(STOP),
4(ERROR),
8(DEBUG)
Bit13~15
:
Reserved
CPU
Info
1
Client(HMI)

Server(PLC)
:
Don’t
care
(0x00)
Server(PLC)

Client(HMI)
:
0xA0
Note1)
Source
of
Frame
1
Client(HMI)

Server(PLC)
:
0x33
Server(PLC)

Client(HMI)
:
0x11
Invoke
ID
2
ID used to discriminate the sequence among frames
(This
number
is
sent
as
attached
to
Response
frame)
Length
2
Application
Instruction’s
byte
size
FEnet
Position
1
Bit 0~3 : FEnet I/F module’s Slot No.
Bit
4~7
:
FEnet
I/F module’s
Base
No.
Reserved
2
(BCC)
1
0x00
:
BCC
(Application
Header’s
Byte
Sum)
3/17
XGL-FEnet
Software
Design
Test
Basic
Structure
of
Frame
(Application
Data
Format)
Command
Request
frame
(external
communication
device
→
FEnet
I/F
module)
Header
Command
Data
Type
Reserved
Area
Structurized
data
area
AREA
CODE
SUB
CMD
ACK
Response
frame
(FEnet
module
→
external
communication
device,
if
data
is
received
normally)
Header
Command
Data
Type
Reserved
Area
Error
status
(2
bytes
h’0000)
Structurized
data
area
AREA
CODE
SUB
CMD
NAK
Response
frame
(FEnet
module
→
external
communication
device,
if
data
is
received
abnormally)
Header
Command
Data
type
Reserved
Area
Error
status
(2
bytes:
h’FFFF)
Error
code
(2 byte)
AREA
CODE
SUB
CMD
Notes
If hexadecimal data is applied, the Hex. type of data is indicated with ‘h’ or ‘0x’ attached in front
of
figures
inside
frame
like
01,
h’12345,
h’34, 0x12 and
0x89AB.
In
the
Case
of
NAK
Response
frame,
you
can
find
the
meanings
of
Error
codes.
Please
Refer
to
Appendix A.
4/17
XGL-FEnet
Software
Design
Test
List
of
Commands
READ
6-1-2)
Request
Format
6-1-2-1)
System
Area
Read
This
function
is
used
to
read
RTC
Data,
IO
Information,
Online
History.
CMD
AREA
CODE
Reserved
Size
Offset
Item
Size(byte)
Description
CMD
2
Read
Request
:
0x1000
Device
0x0010
Reserved
2
0x0000
: Don
’
t Care
Size
2
1
~
1400(Bytes)
Offset
4
changeable
according
to
AREA
CODE
5/17
XGL-FEnet
Software
Design
Test
719455
131643
6/17
XGL-FEnet
Software
Design
Test
6-1-2-2)
Device
Area
Read
This
area
can
be
accessible
through
previous
protocol’s
separate
reading
and
continuous
reading.
However,
the
following functions
are added
to
ensure the
overall efficiency.
CMD
AREA
CODE
Reserved
#
of
Block
Device
Type
Data
Type
Bit
Position
Offset
Size
Item
Size(byte)
Description
CMD
2
Read
Request
:
0x1000
AREA
CODE
2
Device
:
0x0010
Reserved
2
0x0000
:
Don’t
Care
# of
Block
2
1 ~
64
Device
Type
1
P,
M,
L,
K,
T,
C,
D,
R,
N,
ZR(W) ...
Data
Type
1
X(Bit),
B(Byte)
Bit
Position
2
Bit
Position
:
0 ~
7
Size
of
Block
:
1
~
1400(Bytes)
Size
of
Block0 +
Size
of
Block1+
…
+Size
of
Block64 <
1400
Size
of
Block
Offset
4
changeable
according
to
AREA
CODE
7/17
XGL-FEnet
Software
Design
Test
6-1-3)
Response
Format
CMD
AREA
CODE
Reserved
Status
Reserved
Size
Data..
CF.
Previous
Dedicated
communication
service
CMD
Data
Type
Reserved
Status
# of
Blocks
# of
Data
Data..
6-1-3-1)
System
/Device
Area
Read
Response
Item
Size(byte)
Description
CMD
2
Read
Response
:
0x1001
Device
0x0010
Reserved
2
0x0000
Status
2
Normal
if
it
is
0,
abnormal if
not
0
Reserved
2
0x0000
Size
2
Number
of
Data,
1 ~
1400(Bytes)
Data
Size
8/17
XGL-FEnet
Software
Design
Test
6-1-4-9)
Device
Area
Read
719455
228787
2973070
228787
Bit
Request
Frame
CMD
AREA
CODE
Reserved
#
of
Block
Device
Type
Data
Type
Bit
Position
Offset
0x1000
0x0010
0x0000
0x0002
0x50
0x58
0x02
0x00000000
0x50
0x58
0x04
0x00000000
0000
00
e0
91
02
00
83
00
20
ed
53
c1
2f
08
00
45
00
0010
00
54
ed
87
40
00
80
06
9d
25
96
96
21
6f
96
96
0020
21
5b
10
ea
07
d4
6a
cc
79
61
a2
34
80
4d
50
18
0030
3f
ec f4
52
00
00
4c
53
49
53
2d
58
47
54
00
00
0040
00
00
00
33
10
00
18
00
00
b6
00
10
10
00
00
00
0050
02
00
50
58
02
00
00
00
00
00
50
58
04
00
00
00
0060
00
00
Response
Frame
9/17
XGL-FEnet
Software
Design
Test
Byte
Request
Frame
CMD
AREA
CODE
Reserved
#
of
Block
Device
Type
Data
Type
Size
Offset
0x1000
0x0010
0x0000
0x0006
0x44
0x42
0x04
0x00000000
D0
K1
0x4B
0x42
0x04
0x02000000
L2
M3
0x4C
0x42
0x04
0x04000000
N4
P5
0x4D
0x42
0x04
0x06000000
0x4E
0x42
0x04
0x08000000
0x50
0x42
0x04
0x0A000000
0000
00
e0
91
02
00
83
00
20
ed
53
c1
2f
08
00
45
00
0010
00
74
ed
89
40
00
80
06
9d
03
96
96
21
6f
96
96
0020
21
5b
10
ef
07
d4
b6
56
66
f3
fa 38
ed
fb
50
18
0030
44
70
75
db
00
00
4c
53
49
53
2d
58
47
54
00
00
0040
00
00
00
33
10
01
38
00
00
d7
00
10
10
00
00
00
0050
06
00
44
42
04
00
00
00
00
00
4b
42
04
00
02
00
0060
00
00
4c
42
04
00
04
00
00
00
4d
42
04
00
06
00
0070
00
00
4e
42
04
00
08
00
00
00
50
42
04
00
0a
00
0080
00
00
Response
Frame
10/17
XGL-FEnet
Software
Design
Test
Byte
Request
Frame
CMD
AREA
CODE
Reserved
#
of
Block
Device
Type
Data
Type
Size
Offset
0x1000
0x0010
0x0000
0x0006
0x52
0x42
0x04
0x0C000000
R6
S7
0x53
0x42
0x04
0x0E000000
T8
U9
0x54
0x42
0x04
0x10000000
W(ZR)10
Z11
0x55
0x42
0x04
0x12000000
0x57
0x42
0x04
0x14000000
0x5A
0x42
0x04
0x16000000
0000
00
e0
91
02
00
83
00
20
ed
53
c1
2f
08
00
45
00
0010
00
74
90
7a
40
00
80
06 fa
12
96
96
21
6f
96
96
0020
21
5b
10
ff
07
d4
d4
c1
43
92
d6
a0
d8
bb
50
18
0030
42
40
34
c7
00
00
4c
53
49
53
2d
58
47
54
00
00
0040
00
00
00
33
10
02
38
00
00
d8
00
10
10
00
00
00
0050
06
00
52
42
04
00
0c
00
00
00
53
42
04
00
0e
00
0060
00
00
54
42
04
00
10
00
00
00
55
42
04
00
12
00
0070
00
00
57
42
04
00
14
00
00
00
5a
42
04
00
16
00
0080
00
00
Response
Frame
11/17
XGL-FEnet
Software
Design
Test
WRITE
6-2-1)
Introduction
·
RTC
Data
SET or
Device
Data
Write
Supports;
6-2-2)
Request
Format
6-2-2-2)
Device
Area
Write
CMD
AREA
CODE
Reserved
#
of
Block
Device
Type
Data
Type
Size
Offset
Data
Item
Size(byte)
Description
CMD
2
Write
Response
:
0x1010
AREA
CODE
2
Device
:
0x0010
Reserved
2
0x0000
# of
Block
2
1
~
64
Device
Type
1
P,
M,
L,
K,
T,
C,
D,
R,
N,
ZR(W)
Data
Type
1
X,
B
Bit
Position
2
Bit
Position
:
0 ~
7
Size
of
Block
:
1
~
1400(Bytes)
Size
of
Block0 +
Size
of
Block1+
…
+Size
of
Block64 <
1400
Size
of
Block
Offset
4
changeable
according
to
AREA
CODE
Data
Size
of
Block
Write
Data
…
12/17
XGL-FEnet
Software
Design
Test
6-2-3)
Response
Format
CMD
AREA
CODE
Reserved
Status
Error
code
6-2-4-2)
Device
Area
Write
719455
228383
Bit
Request
Frame
CMD
AREA
CODE
Reserved
#
of
Block
Device
Type
Data
Type
Bit
Position
Offset
Data
0x10
1
0
0x0010
0x0000
0x0002
0x50
0x58
0x01
0x00000000
00
0x50
0x58
0x03
0x00000000
01
0000
00
e0
91
02
00
83
00
20
ed
53
c1
2f
08
00
45
00
0010
00
56
24
6e
40
00
80
06
66
3d
96
96
21
6f
96
96
0020
21
5b
12
a7
07
d4 f8
32
c0
6c
d5
56
8f
1b
50
18
0030
42
54
d3
db
00
00
4c
53
49
53
2d
58
47
54
00
00
0040
00
00
00
33
00
00
1a
00
00
a8
10
10
10
00
00
00
0050
02
00
50
58
01
00
00
00
00
00
01
50
58
03
00
00
0060
00
00
00
01
Response
Frame
0000
00
20
ed
53 c1
2f
00
e0
91
02
00
83
08
00
45
00
0010
00
46
35
ab
00
00
80
06
95
10
96
96
21
5b
96
96
0020
21
6f
07
d4
12
a7
d5
56
8e fd
f8 32
c0
6c
50
18
0030
3e
80
f1
38
00
00
4c
53
49
53
2d
58
47
54
00
00
0040
01
02
a0
11
00
00
0a
00
00
19
11
10
00
00
10
00
0050
00
00
02
00
13/17
XGL-FEnet
Software
Design
Test
Byte
Request
Frame
CMD
AREA
CODE
Reserved
#
of
Block
Device
Type
Data
Type
Size
Offset
0x10
1
0
0x0010
0x0000
0x0006
0x44
0x42
0x0002
0x00000000
0x3412
D0
K1
0x4B
0x42
0x0002
0x02000000
0x7856
L2
M3
0x4C
0x42
0x0002
0x04000000
0xCDAB
N4
P5
0x4D
0x42
0x0002
0x06000000
0x10EF
0x4E
0x42
0x0002
0x08000000
0x1211
0x50
0x42
0x0002
0x0A000000
0x1413
0000
00
e0
91
02
00
83
00
20
ed
53
c1
2f
08
00
45
00
0010
00
80
b9
50
40
00
80
06
d1
30
96
96
21
6f
96
96
0020
21
5b
0c
e3
07
d4
39
bf
90 ee
d5
66
2d
df
50
18
0030
40
1a
8e
11
00
00
4c
53
49
53
2d
58
47
54
00
00
0040
00
00
00
33
00
00
44
00
00
d2
10
10
10
00
00
00
0050
06
00
44
42
02
00
00
00
00
00
12
34
4b
42
02
00
0060
02
00
00
00
56
78
4c
42
02
00
04
00
00
00
ab cd
0070
4d
42
02
00
06
00
00
00
ef
10
4e
42
02
00
08
00
0080
00
00
11
12
50
42
02
00
0a
00
00
00
13
14
Response
Frame
0000
00
20
ed
53 c1
2f
00
e0
91
02
00
83
08
00
45
00
0010
00
46
ba
f7
00
00
80
06
0f
c4
96
96
21
5b
96
96
0020
21
6f
07
d4
0c
e3
d5
66
2d
c1
39
bf
90
ee
50
18
0030
3e
80
42
1b
00
00
4c
53
49
53
2d
58
47
54
00
00
0040
01
02
a0
11
00
00
0a
00
00
19
11
10
00
00
10
00
0050
00
00
06
00
Byte
Request
Frame
0x10
1
0
0x0010
0x0000
0x0006
0x52
0x42
0x0002
0x0C000000
0x1615
R6
S7
0x53
0x42
0x0002
0x0E000000
0x1817
T8
U9
0x54
0x42
0x0002
0x10000000
0x1A19
W(ZR)10
Z11
0x55
0x42
0x0002
0x12000000
0x1C1B
0x57
0x42
0x0002
0x14000000
0x1E1D
0x5A
0x42
0x0002
0x16000000
0x201F
0000
00
e0
91
02
00
83
00
20
ed
53
c1
2f
08
00
45
00
0010
00
74
90
7a
40
00
80
06 fa
12
96
96
21
6f
96
96
0020
21
5b
10
ff
07
d4
d4
c1
43
92
d6
a0
d8
bb
50
18
0030
42
40
34
c7
00
00
4c
53
49
53
2d
58
47
54
00
00
0040
00
00
00
33
10
02
38
00
00
d8
00
10
10
00
00
00
0050
06
00
52
42
04
00
0c
00
00
00
53
42
04
00
0e
00
0060
00
00
54
42
04
00
10
00
00
00
55
42
04
00
12
00
14/17
XGL-FEnet
Software
Design
Test
0000
00
e0
91
02
00
83
00
20
ed
53
c1
2f
08
00
45
00
0010
00
80
76
a0
40
00
80
06
13
e1
96
96
21
6f
96
96
0020
21
5b
0c
e3
07
d4
39
ff
0a ec
d5
7b f4
99
50
18
0030
41
0a
56
22
00
00
4c
53
49
53
2d
58
47
54
00
00
0040
00
00
00
33
00
00
44
00
00
d2
10
10
10
00
00
00
0050
06
00
52
42
02
00
0c
00
00
00
15
16
53
42
02
00
0060
0e
00
00
00
17
18
54
42
02
00
10
00
00
00
19
1a
0070
55
42
02
00
12
00
00
00
1b
1c 57
42
02
00
14
00
0080
00
00
1d
1e
5a
42
02
00
16
00
00
00
1f
20
0070
00
00
57
42
04
00
14
00
00
00
5a
42
04
00
16
00
0080
00
00
Response
Frame
15/17
XGL-FEnet
Software
Design
Test
Appendix
A.
Details
of
error
code
hex
2 Bytes
Error
Code
Error
Type
Error
details
and
causes
Remarks
0x00
Frame
Error
BCC
Error
0x01
0x02
Command
Error
Unknown
Command
0x03
Sub
Command
Error
Unknown
Sub
Command
0x04
Area
Address
Error
Request
exceeds
the
area
each
device
supports.
0x05
Data
Value
Error
Request
abnormal
Data
(RTC
Data,
Bit
Pos..)
0x10
Data
size
error
Request
exceeds
the
max
range
of
1400
Bytes
to
read
or
write
at
a
time.
0x11
Data
type
error
Other
data
type
than
X,B
received.
0x12
Device
type
Error
Other
device
type
than
P,
M,
L,
K,
T,
C,
U,
D, N, R.
W.
received.
0x13
Number
of
blocks
exceeded
Number
of
blocks
exceeds
64
at
Read/Write
Request
Number
of
blocks
exceeds
40
at
TB/CoS
Request
16/17
XGL-FEnet
Software
Design
Test
17/17